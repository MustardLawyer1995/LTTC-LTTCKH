# Nim tham lam và Nim khiêm nhường
### 1. Nim tham lam 
&nbsp;&nbsp;&nbsp;&nbsp;Biến thể của nim game, luật chơi như nim thường nhưng thêm vào ràng buộc rằng ở mỗi lượt người chơi chỉ được phép lấy từ đống lớn nhất. Đây là một impartial game, và cũng có 2 phiên bản là normal (người lấy được quân cuối cùng thắng) và misere (người lấy quân cuối cùng thua). Tuy nhiên ta không thể dùng phép tính tổng nimber như với nim thường được, bởi vì ở mỗi lượt, đống mà người chơi được phép chọn không phải là tùy ý, nói cách khác đây không phải là dạng trò chơi tổng của nhiều trò chơi con. <br>

&nbsp;&nbsp;&nbsp;&nbsp;*<ins>Lời giải:</ins>* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Thế tất bại là những thế có số lượng chẵn đống lớn nhất. <br>

&nbsp;&nbsp;&nbsp;&nbsp;*<ins>Chứng minh:</ins>* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Từ trạng thái có chẵn đống lớn nhất, không có nước đi nào dẫn đối thủ về một trạng thái tương tự: hiển nhiên, vì người chơi chỉ tác động vào 1 đống trong những đống lớn nhất, số đống lớn nhất sẽ giảm đi 1, sau đó sẽ có một số lẻ đống lớn nhất. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Từ trạng thái có lẻ đống lớn nhất, luôn có nước đi để đưa trò chơi về trạng thái có chẵn đống lớn nhất: nếu số lượng đống lớn nhất đang >1, nước đi nào cũng khiến số lượng đống lớn nhất giảm đi 1, và trở thành chẵn đống lớn nhất; nếu chỉ có 1 đống lớn nhất, ta xem xét số lượng đống lớn nhì, nếu có lẻ đống lớn nhì, hãy giảm số quân trong đống lớn nhất về mức của đống lớn nhì, nếu có chẵn đống lớn nhì thì giảm số quân trong đống lớn nhất xuống mức < đống lớn nhì $\rightarrow$ ở lượt tiếp sẽ luôn có chẵn đống lớn nhất (những đống lớn nhì ở lượt trước giờ đã trở thành đống lớn nhất). <br>
&nbsp;&nbsp;&nbsp;&nbsp;Sự khác biệt giữa 2 phiên bản normal và misere chỉ nằm ở nước đi quyết định khi chỉ còn duy nhất 1 đống có kích thước >1, lúc này người đi trước thắng trong cả 2 phiên bản: tạo ra số chẵn đống 1 khi chơi luật normal và tạo ra số lẻ đống 1 khi chơi luật misere (tùy thuộc vào việc anh ta lấy hết đống > 1 hay để chừa lại 1 quân); tất nhiên người đi trước không thể là đối phương vì hắn liên tục bị bạn ép vào các thế có chẵn đống lớn nhất, trong khi thế quyết định có 1 đống lớn nhất (đống duy nhất có số quân > 1), bạn thắng rồi. <br>

### 2. Nim khiêm nhường
&nbsp;&nbsp;&nbsp;&nbsp;Giờ thử đảo ngược yêu cầu của trò chơi Nim tham lam lại để có một biến thể khác: ở mỗi lượt người chơi chỉ được lấy từ đống nhỏ nhất. Thật ngạc nhiên là câu đố này lại làm khó được nhiều người đến thế. Để bắt đầu, ta sẽ mở rộng vấn đề ra 1 chút, xét trò chơi Nim thứ tự: có một dãy các đống đồng xu sắp theo thứ tự $a_{0};a_{1};...;a_{n}$ , luật chơi như nim thường nhưng thêm ràng buộc - người chơi chỉ được phép động vào đống $a_k$ khi tất cả các đống trước nó $\( a_{0};a_{1};...;a_{k-1} \)$ đã bị lấy hết. Lời giải cho Nim thứ tự tiềm ẩn trong bài viết về Euclid game (xem lại ***bài giảng số 11***). <br>

&nbsp;&nbsp;&nbsp;&nbsp;*<ins>Mở rộng:</ins>* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Hãy xem lại dạng liên phân số đặc trưng cho một trạng thái của Euclid game: $\[ a_{0};a_{1};...;a_{k-1} \]$ , các bạn nhận ra điều gì đặc biệt không ? <br>
&nbsp;&nbsp;&nbsp;&nbsp;Luật chơi của Euclid game khiến cho dạng liên phân số thể hiện tính chất tương tự như một dãy Nim thứ tự $a_{0};a_{1};...;a_{n}$ . Điều này có nghĩa là ta có thể áp dụng thuật toán của Euclid game vào Nim thứ tự $\rightarrow$ thế tất bại của Nim thứ tự là những trạng thái có $a_{0} = a_{1} = ... = a_{n-1}$ với $n$ lẻ.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Nim khiêm nhường thật ra chỉ là một phiên bản đơn giản hơn của Nim thứ tự, với dãy $a_{0};a_{1};...;a_{n}$ là dãy có số lượng tăng dần, không giống như Nim tham lam, luật của Nim khiêm nhường ràng buộc người chơi phải lấy từ đống nhỏ nhất, trừ khi bạn lấy hết, nếu không đống bị lấy vẫn là đống nhỏ nhất ở lượt sau và là mục tiêu của đối phương, chỉ khi đống này bị lấy hết quân 2 người chơi mới chuyển sang đống tiếp theo-đặc trưng của một trò Nim thứ tự. Không mất tính tổng quát, giả định các đống trong Nim khiêm nhường đều có số quân > 1, chiến lược tất thắng cho nó hóa ra lại đơn giản đến không tưởng: liên tục lấy gần hết đống nhỏ nhất chỉ để chừa lại 1 quân, ở lượt kế tiếp đối phương bắt buộc phải lấy quân này và vòng lặp tiếp diễn tới khi bạn là người lấy đống cuối cùng, hãy lấy tất cả trong phiên bản normal và để chừa lại 1 quân trong phiên bản misere, bạn thắng. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Ý tưởng về trò chơi Nim thứ tự được nhắc đến trong bài có thể mở rộng ra cho các impartial game bất kỳ. Ta có thể tạo ra một dãy các game con sắp xếp có thứ tự và yêu cầu rằng 2 người chơi phải đi đến nước cuối cùng trong một game con trước khi chuyển sang game con tiếp theo trong dãy. Tôi đã giải được một phiên bản giới hạn của nó, khi tất cả các game con đều là tame game, lời giải như sau: (trước tiên hãy đảm bảo là bạn đã biết các khái niệm cơ bản trong bài ***Lý thuyết chi***). <br>
&nbsp;&nbsp;&nbsp;&nbsp;Một dãy chỉ gồm các game con có giá trị là $\( 0,1 \)$ và $\( 1,0 \)$ được gọi là dãy hoán điểm, nếu có một số chẵn (lẻ) các giá trị $\( 1,0 \)$ thì dãy này được gọi là chẵn (lẻ). Dãy hoán điểm có thể chỉ là một đoạn nhỏ trong toàn bộ dãy game con của trò chơi. Các dãy sau đây trong trò chơi là thế thua cho người đi trước: (các game con được sắp xếp theo thứ tự từ chơi trước đến chơi sau: Một dãy hoán điểm lẻ, $\(  n;n \)$ , ... với $n \ge 1$ , một dãy hoán điểm chẵn, $\( 0,0 \)$ , … một dãy hoán điểm chẵn (lẻ) đối với luật normal (misere). <br>

