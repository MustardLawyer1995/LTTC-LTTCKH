# Lý Thuyết Trò Chơi (phần 2) 
### 5. Bản chất tiện ích, đạo đức, và hiệu quả <br>
#### &nbsp;&nbsp;&nbsp;&nbsp; *a. Bản chất tiện ích* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Có thể xác định nhanh chóng hàm tiện ích ở những tình huống mà lợi ích quy ra giá trị rõ ràng (tiền bạc, vật chất, ...). Nhưng thường thì mọi chuyện không đơn giản như thế, bởi tiện ích liên quan tới các biến số tâm lý rất khó để đo lường (niềm vui sướng chẳng hạn). Ở trò chơi Qua cầu, nếu tất cả những gì người chạy trốn quan tâm là sự sống chết của mình chứ không phải cách thức chết, và tất cả những gì thợ săn quan tâm là ngăn người chạy trốn thoát được thì cách thiết lập hàm tiện ích ở ***1/ a/*** là phù hợp (để ý rằng tiện ích của người chạy trốn chính là xác suất sống sót của anh ta, còn xác suất chết của anh ta là tiện ích của thợ săn). Giờ hãy giả định: Thợ săn thích nhất là tự tay kết liễu người chạy trốn, và thích người chạy trốn chết vì đá rơi/rắn cắn hơn là để anh ta thoát; người chạy trốn thích một cái chết chóng vánh bằng 1 phát đạn hơn là bị đá đè hoặc nỗi kinh hoàng khi bị rắn cắn (dĩ nhiên thích nhất vẫn là trốn thoát). Không thể giải trò chơi này nếu chỉ biết thứ tự sở thích của mỗi tay chơi, vì cường độ của mỗi sở thích giờ đây sẽ liên quan đến các chiến lược của họ. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Vậy phải xây dựng hàm tiện ích như thế nào, khi đã biết dãy thứ tự các kết quả: ${L_1},{\rm{ }}{L_2},{\rm{ }}{L_3},{\rm{ }}...,{\rm{ }}{L_n}$ sắp xếp theo độ ưa thích tăng dần của tay chơi $P$ ? <br>
&nbsp;&nbsp;&nbsp;&nbsp; $\Longrightarrow$ *Von Newmann & Morgenstern* giải quyết chuyện này bằng cách ấn định 2 giá trị tùy ý cho tiện ích ứng với $L_1$ và $L_n$  thỏa mãn $u\( L_{1} \) < u\( L_{n} \)$ . Tiện ích của kết quả $L_k$ là $u\( L_{k} \) = qu\( L_{n} \) + (1-q)u\( L_{1} \)$ với $0 < q < 1$ , sao cho $P$ hoàn toàn trung lập (không thích cái nào hơn) giữa $L_k$ và một kết quả chưa biết có xác suất $q$ rơi vào $L_n$ và xác suất $1-q$ rơi vào $L_1$ . <br>
#### &nbsp;&nbsp;&nbsp;&nbsp; *b. Tính đạo đức và hiệu quả* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Trong trò chơi ở ***Mục 3/ b/ (phần 2, ví dụ 3.4)***, chắc chắn các tay chơi cũng thấy $\( 4,5 \)$ là kết quả cao hơn về phương diện xã hội và đạo đức. Tuy nhiên, các động lực trong trò chơi ngăn cản nó xảy ra. Giống như ở PD game, 2 tay chơi đáng lẽ đều đã nhận được tiện ích cao hơn nếu hợp tác với nhau. Có lẽ bạn đã nghĩ sự éo le này đơn giản nảy sinh từ tính ích kỷ và bệnh hoang tưởng của những tay chơi: từ đầu họ đã không quan tâm đến thiện chí về phương diện xã hội và sau đó thì bội ước! Đây là một cách hiểu rất lệch lạc về LTTC. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Các phúc lợi xã hội được thể hiện bằng khái niệm *"hiệu quả Pareto"* . Trạng thái o là ưu thế Pareto so với trạng thái d nếu ít nhất 1 tay chơi có tiện ích tăng và không tay chơi nào bị giảm tiện ích khi chuyển từ o sang d. Kết quả $\( -1,-1 \)$ - thể hiện sự hợp tác trong mô hình PD rõ ràng là ưu thế Pareto so với $\( -5,-5 \)$ - cùng phản bội. Thất bại trong việc đạt được $\( -1,-1 \)$ thể hiện sự phân phối tiện ích thiếu hiệu quả vì sự tồn tại của nó cho thấy một tiện ích nào đó đang bị bỏ phí tại $\( -5,-5 \)$ , điều này thật đáng tiếc. Tuy nhiên, thiếu hiệu quả không đồng nghĩa với "phi đạo đức". Hàm tiện ích của một tay chơi thể hiện điều mà anh ta ưa thích, nó có thể là bất cứ thứ gì. 2 tù nhân của chúng ta thực sự chỉ quan tâm đến bản án tù riêng của mình, nhưng đó không phải điểm cốt lõi. Cái duy nhất làm cho một tình huống trở thành PD game chỉ là cấu trúc tiện ích của nó. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Câu chuyện dân gian về 2 anh em nông dân nghèo yêu thương nhau, rình lúc đêm đến bỏ 1 bó lúa sang nhà nhau chính là một trò chơi đối xứng, mỗi người có tiện ích như sau: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 _gửi lúa cho người kia mà họ không trả lại <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 _cả hai đều không làm gì <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 _cả hai gửi lúa cho nhau, họ đều thấy tệ vì đã làm việc vô ích mà còn khiến cho người kia thấy tệ nữa <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 _thấy tội lỗi khi nhận lúa của người kia-cũng nghèo như họ. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $\longrightarrow$ Vậy là 2 anh em tốt bụng đã tham gia một PD game, dù họ không nghĩ đến bản thân mà chỉ quan tâm đến sự no đủ của người còn lại. Nếu các khoản tiện ích của họ thay đổi thì họ sẽ chơi một trò chơi khác không phải PD. <br>
&nbsp;&nbsp;&nbsp;&nbsp; $\Longrightarrow$ Điều đó chỉ ra rằng các kết quả thiếu hiệu quả không liên quan gì đến tính vị kỷ. Logic của tình huống PD, chứ không phải tâm lý của những tay chơi, là thứ đánh bẫy họ trong một kết quả thiếu hiệu quả. <br>
### 6. Những trò chơi kéo dài vô tận <br>
&nbsp;&nbsp;&nbsp;&nbsp;*<ins>Định nghĩa:</ins>* Các trò chơi trong thế giới thực nhìn chung thường kết thúc sau hữu hạn nước đi. Các lý thuyết gia không bị cản trở bởi điều đó, họ dành sự quan tâm đặc biệt cho các trò chơi kết thúc sau vô hạn nước đi.<br>
#### &nbsp;&nbsp;&nbsp;&nbsp; *a. Trò chơi lặp lại* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Trò chơi lặp lại là một trò chơi dạng mở rộng gồm nhiều lần lặp lại của một trò chơi cơ bản-gọi là "vòng chơi", sao cho tiện ích của mỗi tay chơi ở bất kỳ vòng chơi nào đều đóng góp vào tổng tiện ích của anh ta. Để tiếp cận với loại trò chơi này, hãy dùng trò chơi PD lặp lại (cũng nổi tiếng không kém trò chơi PD gốc) làm ví dụ. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Trong trò chơi PD lặp lại hữu hạn lần, *thuật toán Zermelo* chỉ ra SPE duy nhất: 2 tay chơi đều bội ước ở tất cả các vòng. Để tránh một kết quả tầm thường như vậy thì ta nên giả định các tay chơi không biết vòng chơi nào là vòng cuối cùng, (về mặt kĩ thuật) tương đương với việc có vô hạn vòng chơi. Nhưng khi đó tiện ích của mỗi tay chơi cũng trở thành vô hạn. Giải pháp ở đây là thay vì xác định tiện ích cho mỗi chuỗi kết quả vô hạn, ta chỉ so sánh sự ưu tiên giữa 2 chuỗi. Ta nói rằng người chơi $i$ thích chuỗi kết quả $y$ hơn $x$ khi và chỉ khi: <br>

```math
\mathop {\lim }\limits_{n \to \infty } \sum\limits_{t = 1}^n {\left( {{u_{i,y\left( t \right)}} - {u_{i,x\left( t \right)}}} \right)}  > 0
```
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trong đó $x_{t},y_{t}$ là kết quả của vòng chơi $t$ ở chuỗi kết quả $x,y$ ; $u_{i}$ là tiện ích tương ứng của người chơi $i$ ở các kết quả đó <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Những trò chơi dài vô tận chứa số lượng vô hạn trò chơi con. Để chứng minh một NE là SPE, ta phải chứng minh NE này cũng là NE trong tất cả các trò chơi con. Thao tác này có thể không khó, như đã làm ở trò chơi PD lặp lại vô hạn, nhưng nó ngầm ám chỉ rằng trò chơi PD lặp lại vô hạn có số lượng vô hạn SPE. Thực tế thì việc 2 tay chơi cùng bội ước liên tục trong $n$ lượt đầu tiên ( $n$ là giá trị tùy ý) rồi sau đó mới cùng chơi tit for tat cũng là một SPE. SPE này có vẻ gần với đời thực hơn bởi vì con người thường cần thời gian để nhận ra các chiến lược cân bằng tối ưu nhất. <br>
&nbsp;&nbsp;&nbsp;&nbsp;*<ins>Ví dụ 6.1:</ins>* Cho hình vẽ sau <br>
<div align="center">

![image](https://github.com/MustardLawyer1995/LTTC-LTTCKH/assets/156400720/7057c3f8-e719-4c78-864a-cd37f4d29d99)
</div>

&nbsp;&nbsp;&nbsp;&nbsp;Theo ***5/ b/***, tình huống của PD game chỉ liên quan đến cấu trúc tiện ích, sự hợp tác và bội ước (không nhất thiết mang nghĩa xấu về đạo đức) nên ta sẽ dùng ma trận trong ảnh (hình trên) để tránh phải làm việc với các số âm (xem lại ví dụ ở ***mục 2/, phần a/***). <br>
&nbsp;&nbsp;&nbsp;&nbsp;Tiếp đến ta ký hiệu: C _hợp tác; D _bội ước; A _người chơi hàng; B _người chơi cột. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Một chiến lược rất nổi tiếng (nhưng không nhất thiết là tối ưu như người ta thường nói) trong trò chơi PD lặp lại vô hạn là tit for tat (ăn miếng trả miếng), trong đó người chơi sẽ: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i) luôn hợp tác ở vòng đầu <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ii) lặp lại hành động của đối thủ ở vòng trước. <br>
&nbsp;&nbsp;&nbsp;&nbsp; $\Longrightarrow$ Nếu 2 người đều chơi tit for tat, họ sẽ hợp tác ở tất cả các vòng - đây là một NE. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Thật vậy, nếu A chơi D (trong khi B vẫn chơi C) ở một vòng nào đó, A sẽ phải chấp nhận chơi C trong khi B chơi D ở vòng sau  mức thưởng của A qua 2 vòng là  , mức thưởng khi hợp tác cùng B ở 2 vòng đó. Nếu A chơi D ở các vòng tiếp theo thay vì chịu phạt thì B cũng làm y hệt (cho đến khi A chịu chơi C), tình trạng căng thẳng này càng kéo dài càng thiệt cho A (được 1 ở mỗi vòng thay vì 2). Thực ra ở trạng thái NE-cả 2 cùng tit for tat, ta không thể quan sát được các động thái trừng phạt nêu trên (2 người sẽ hợp tác ngay từ vòng đầu đến mọi vòng tiếp theo), nói cách khác, chúng là các diễn biến bên ngoài cuộc chơi (xem lại ví dụ 3.4). Vậy liệu các đe doạ trừng phạt đó có "đáng tin" không? hay: NE-cùng tit for tat có phải SPE ? Câu trả lời là: Có. Dễ thấy trò chơi con bắt đầu từ vòng chơi mà B phạt A có NE là: A luôn chơi C ở 2 vòng đầu, và từ vòng 3 thì lặp lại hành động của B ở vòng trước; B luôn chơi D ở vòng đầu, sau đó lặp lại hành động của A ở vòng trước (tương tự, có thể chỉ ra rằng cái NE này cũng là SPE luôn)  Đe doạ của B là đáng tin vì B hoàn toàn có lợi khi trừng phạt A. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Nhưng có một khía cạnh khác của vấn đề, đó là trạng thái mà cả 2 tay chơi bội ước ở tất cả các vòng (mỗi người luôn chơi D) cũng là một SPE. Ngoài ra, trò chơi PD lặp lại vô hạn còn có các SPE khác như: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chuỗi $\left( {C,D} \right)\left( {D,C} \right)\left( {C,D} \right)\left( {D,C} \right)...$ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i) Nếu A (B) chơi D ở lượt lẽ ra phải chơi C, B (A) sẽ chơi D ở 2 vòng tiếp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ii) A (B) phải chịu phạt bằng cách chơi C ở ít nhất 1 trong 2 vòng đó, quay trở lại i) (2 tits for tat). <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chuỗi $\left( {C,D} \right)\left( {C,D} \right)\left( {D,C} \right)\left( {C,D} \right)\left( {C,D} \right)\left( {D,C} \right)...$ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tương tự 2 tits for tat chỉ thay 2 vòng thành 3 vòng (3 tits for tat) <br>
&nbsp;&nbsp;&nbsp;&nbsp; $\Longrightarrow$ Các chuỗi kết quả trên tuy có tiện ích thấp hơn SPE - cùng tit for tat (thậm chí có cả sự bất bình đẳng giữa 2 tay chơi) nhưng chúng vẫn là SPE. Những người ủng hộ tit for tat là lời giải của trò chơi dường như đã quên rằng trước tiên họ cần phát triển những cơ sở lý luận về Bộ lọc NE ***(mục 3/)***, một loại vấn đề phức tạp mà không phải cứ viện đến ưu thế lợi ích là được. Cũng cần phải lưu ý rằng chỉ cần thay đổi ma trận PD một chút (hình dưới) thì tit for tat sẽ không còn là NE nữa, một tay chơi sẽ có lợi khi đổi chiến lược từ tit for tat thành chơi xen kẽ D và C (tiện ích trung bình mỗi vòng là $2.5$ ). Ở trò chơi mới này, 2 người cùng chơi 2 tits for tat là một SPE khá triển vọng để xem xét tới. <br>
#### &nbsp;&nbsp;&nbsp;&nbsp; *b. Trò chơi dài vô tận nhưng có kích thước hữu hạn* <br>
&nbsp;&nbsp;&nbsp;&nbsp;Khác với những trò chơi lặp lại vô hạn mà ở đó tiện ích được tích lũy qua các vòng chơi và tiến dần ra vô cực (hoặc không xác định), có những trò chơi dù không có điểm kết thúc nhưng tiện ích sau cùng của người chơi vẫn là các giá trị hữu hạn. Xét trò chơi sau: 3 xạ thủ (I),(II),(III) với tỉ lệ bắn trúng lần lượt là $\frac{1}{4}, \frac{1}{3}, \frac{2}{3}$ tham gia một cuộc đấu sinh tử; xạ thủ tồi được ưu tiên bắn trước, quay vòng lần lượt, ai chết thì người liền sau được hưởng lượt bắn; cả 3 phải đứng tại 3 vị trí cố định cách đều nhau trong suốt cuộc đấu; ở mỗi lượt, người chơi sẽ lựa chọn bắn 1 trong 2 người còn lại; trò chơi kết thúc với chỉ 1 người sống sót. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Trước hết hãy xét phiên bản đơn giản hơn - khi chỉ có 2 xạ thủ (không phải một trò chơi đúng nghĩa theo LTTC, 2 xạ thủ không phải đắn đo gì khi họ chỉ có 1 lựa chọn duy nhất - bắn người kia). Cho tỉ lệ bắn trúng của người bắn trước (sau) là $p\( q \)$ , tỉ lệ người bắn trước thắng là: <br>

```math
p + \left( {1 - p} \right)\left( {1 - q} \right)p + \left( {1 - p} \right)^2\left( {1 - q} \right)^2p + ... + {\left( {1 - p} \right)^k}{\left( {1 - q} \right)^k}p + ... = \frac{p}{{1 - \left( {1 - p} \right)\left( {1 - q} \right)}}
```
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;với ${\left( {1 - p} \right)^k}{\left( {1 - q} \right)^k}p$ là xác suất anh ta giết được đối thủ ở lần bắn thứ $k+1$ của mình, và người bắn sau là: $1 - \frac{p}{{1 - \left( {1 - p} \right)\left( {1 - q} \right)}}$ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Coi tiện ích là tỉ lệ sống sót đến cuối cùng của mỗi tay chơi (như trò chơi Qua cầu), giai đoạn chỉ còn 2 người xem như đã là điểm kết thúc của trò chơi 3 xạ thủ, với 6 trường hợp như sau: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<ins>Quy ước:</ins>* Người bắn trước/sau $\Longrightarrow$ $\left( {u\left( I \right),{\rm{ }}u\left( {II} \right),{\rm{ }}u\left( {III} \right)} \right)$ <br>
<div align="center">

| Người bắn trước/sau | Tiện ích | Người bắn trước/sau | Tiện ích |
|:--------:|:--------:|:--------:|:--------:|
| (I)/(II) $\longrightarrow$ | $\left( {\frac{1}{2},\frac{1}{2},0} \right)$ | (I)/(III) $\longrightarrow$ | $\left( {\frac{1}{3},0,\frac{2}{3}} \right)$ |
| (II)/(III) $\longrightarrow$ | $\left( {0,\frac{3}{7},\frac{4}{7}} \right)$ | (II)/(I) $\longrightarrow$ | $\left( {\frac{1}{3},\frac{2}{3},0} \right)$ |
| (III)/(I) $\longrightarrow$ | $\left( {\frac{1}{9},0,\frac{8}{9}} \right)$ | (III)/(II) $\longrightarrow$ | $\left( {0,\frac{1}{7},\frac{6}{7}} \right)$ |
</div>

&nbsp;&nbsp;&nbsp;&nbsp;Khi đó ta mô tả trò chơi bằng dạng mở rộng như sau: <br>

### 7. Lý thuyết trò chơi tiến hóa <br>
&nbsp;&nbsp;&nbsp;&nbsp;LTTC được áp dụng vào sinh học để mô hình hóa và dự đoán kết quả của các cuộc cạnh tranh sinh tồn dưới tác động chọn lọc tự nhiên, tạo nên ***<ins>Lý thuyết trò chơi tiến hóa (LTTCTH)</ins>***. Bất cứ sinh vật nào có các đặc điểm di truyền làm tăng số lượng con cái của chúng trong một môi trường nhất định thì đều có khuynh hướng để lại nhiều con cái hơn những sinh vật khác chừng nào môi trường vẫn còn tương đối bền vững. Thế hệ con cái ấy sẽ kế thừa những đặc điểm đã nêu. Vì vậy tỉ lệ của những đặc điểm này sẽ tăng dần trong quần thể qua các thế hệ. LTTC tiếp cận vấn đề này như thế nào? Một trong những khía cạnh quan trọng nhất đối với sự sinh tồn của một sinh vật là khuynh hướng hành vi của các sinh vật khác. Ta có thể nghĩ về mỗi loài/gen như là đang "cố gắng" tối đa hóa tính thích ứng (số con cháu/bản sao) thông qua việc xác định các chiến lược tối ưu của những loài/gen khác. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nói cách khác, các loài/gen được xem như là những người chơi trong "trò chơi tiến hóa". Hãy bắt đầu bằng việc giới thiệu mô hình của loại trò chơi này: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•1) Cho một quần thể, mỗi cá thể trong đó thuộc về 1 kiểu hình/đặc điểm nhất định. Mỗi loại kiểu hình đó được xem là 1 chiến lược. Khác với LTTC cổ điển, các cá thể không thể lựa chọn/thay đổi chiến lược của mình: chúng được sinh ra với một chiến lược và con cái của chúng kế thừa chiến lược đó. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•2) Các cá thể gặp nhau trong các cuộc đấu tay đôi, thường là trong một phân bố dân số hỗn hợp (bắt cặp ngẫu nhiên). Tổ hợp chiến lược của 2 cá thể trong mỗi cuộc đấu quyết định mức tiện ích (được diễn giải như là khả năng sinh sản/thích nghi) của chúng, thể hiện qua một ma trận trò chơi chung. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•3) Dựa vào kết quả trên, mỗi cá thể sau đó sẽ trải qua quá trình sinh sản dưới tác dụng của chọn lọc tự nhiên, tạo ra một thế hệ con cái mới. Thế hệ mới thay thế thế hệ trước và tham gia vào trò chơi, chu kỳ lặp lại. <br>
&nbsp;&nbsp;&nbsp;&nbsp;Một chiến lược được coi là tốt hơn chiến lược khác khi nó để lại nhiều bản sao của mình hơn ở những thế hệ tiếp theo. Vì vậy về bản chất, mỗi chiến lược chính là 1 người chơi (và cũng vì vậy nên mô hình trò chơi tiến hóa không cần giả thiết về tính duy lý). Thay vì quan tâm đến NE của các trò chơi đơn giữa 2 cá thể, ta hướng sự chú ý tới điểm cân bằng của cả quần thể-một hỗn hợp tỉ lệ bền vững của các chiến lược, và việc chúng thay đổi ra sao theo thời gian. Loại cân bằng nổi tiếng nhất trong LTTCTH là ***<ins>Chiến lược ổn định tiến hóa (ESS-Evolutionary Stable Strategy)</ins>***. <br>
&nbsp;&nbsp;&nbsp;&nbsp;LTTCTH đã được sử dụng để lý giải nhiều hiện tượng trong sinh học. Mặt khác, *"chọn lọc tự nhiên"* trong ngữ cảnh của LTTCTH có ý nghĩa mở: trong một môi trường cạnh tranh, những người chơi không thực hiện một chiến lược đủ tốt sẽ bị đào thải, hoặc điều này trở thành động lực để họ thay đổi chiến lược. Đây là tiền đề để áp dụng LTTCTH vào cả các lĩnh vực bên ngoài sinh học như kinh tế học, xã hội học, nhân học và triết học. <br>

